(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[29],{2528:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a(7),c=a(52),i=a(10),d=a(0),o=a(106),s=a(2548),l=a(2232),u=a(2487),j=a(2),b=[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}],h=function(){return Object(j.jsx)(u.a,{style:{width:500},options:b,placeholder:"Search by Cross Number",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})},x=a(2216),f=a(2219),p=a(23),O=[{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Front/Back",dataIndex:"front_back",key:"front_back",width:100},{title:"Left/Right",dataIndex:"left_right",key:"left_right",width:100},{title:"Number of Part",dataIndex:"number_of_part",key:"number_of_part",width:100},{title:"Year",dataIndex:"year",key:"year",width:100},{title:"Color",dataIndex:"color",key:"color",width:100},{title:"Comment",dataIndex:"comment",key:"comment",width:150},{title:"Cross Number",dataIndex:"cross_number",key:"cross_number",width:150},{title:"Note",dataIndex:"note",key:"note",width:150},{title:"Marking",dataIndex:"marking",key:"marking",width:150},{title:"Is Archive",dataIndex:"is_archive",key:"is_archive",width:100},{title:"Not for Export",dataIndex:"not_for_export",key:"not_for_export",width:120},{title:"Site Link",dataIndex:"site_link",key:"site_link",width:150},{title:"Video",dataIndex:"video",key:"video",width:150},{title:"Old Bar Code",dataIndex:"old_bar_code",key:"old_bar_code",width:150},{title:"Old Data",dataIndex:"old_data",key:"old_data",width:150},{title:"Is Used",dataIndex:"is_used",key:"is_used",width:100},{title:"Status",dataIndex:"status",key:"status",width:100},{title:"Created At",dataIndex:"created_at",key:"created_at",width:150,render:function(e){return Object(p.c)(e)}},{title:"Updated At",dataIndex:"updated_at",key:"updated_at",width:150,render:function(e){return Object(p.c)(e)}},{title:"Model ID",dataIndex:["model","id"],key:"model_id",width:100},{title:"Model Name",dataIndex:["model","name"],key:"model_name",width:150},{title:"Generation ID",dataIndex:["generation","id"],key:"generation_id",width:100},{title:"Generation Name",dataIndex:["generation","name"],key:"generation_name",width:150},{title:"Storage Name",dataIndex:["storage","name_tm"],key:"storage_name",width:150,fixed:"right"}],m=a(2315),g=a(81),y=a(2535),k=a(2520),w=a(2544),v=a(2546),_=a(2529),I=a(2498),S=a(2545),C=a(2530),D=a(2399),N=a.n(D),E=a(2400),R=a.n(E);function A(){var e=d.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(e){return function(){n(e)}},c=Object(j.jsxs)("div",{style:{width:"50vw"},role:"presentation",onClick:r(!1),onKeyDown:r(!1),children:[Object(j.jsx)(w.a,{children:["Inbox","Starred","Send email","Drafts"].map((function(e,t){return Object(j.jsx)(_.a,{disablePadding:!0,children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(S.a,{children:t%2===0?Object(j.jsx)(N.a,{}):Object(j.jsx)(R.a,{})}),Object(j.jsx)(C.a,{primary:e})]})},e)}))}),Object(j.jsx)(v.a,{}),Object(j.jsx)(w.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(j.jsx)(_.a,{disablePadding:!0,children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(S.a,{children:t%2===0?Object(j.jsx)(N.a,{}):Object(j.jsx)(R.a,{})}),Object(j.jsx)(C.a,{primary:e})]})},e)}))})]});return Object(j.jsxs)("div",{children:[Object(j.jsx)(o.a,{type:"primary",onClick:r(!0),children:"Update"}),Object(j.jsx)(k.a,{anchor:"right",open:a,onClose:r(!1),children:c})]})}var B=function(e){var t=e.data,a=e.loading,n=e.tableRef,r=e.fetchData,c=Object(d.useState)(null),s=Object(i.a)(c,2),l=s[0],u=s[1],b=Object(d.useState)(!1),h=Object(i.a)(b,2),p=(h[0],h[1],{onSelect:function(e,t){u(t?e:null)}}),k=function(){u(null)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{ref:n,columns:O,dataSource:t,scroll:{x:5500},loading:a,locale:{emptyText:"No data found"},rowSelection:p,onRow:function(e){return{onClick:function(){return function(e){u(e)}(e)}}}}),Object(j.jsx)(f.a,{title:"Actions",visible:!!l,onCancel:k,footer:[Object(j.jsxs)(y.a,{direction:"row",spacing:3,justifyContent:"flex-end",children:[Object(j.jsx)(o.a,{style:{marginRight:20},onClick:k,children:"Cancel"},"cancel"),Object(j.jsx)(o.a,{danger:!0,onClick:function(){return e=l?l.autopart_id:0,void m.a.delete("autoparts/"+e).then((function(e){console.log("Delete successful",e),k(),r(),g.a.success({message:"Successfully Deleted auto part"})})).catch((function(e){console.error("Error deleting record",e.response)}));var e},children:"Delete"},"delete"),Object(j.jsx)(A,{},"update")]},"footer-buttons")],children:l&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Selected record: ".concat(l.name)})})})]})},T=a(2403),U=a(2444);t.default=function(){var e=Object(d.useState)([]),t=Object(i.a)(e,2),a=t[0],u=t[1],b=Object(d.useState)(!1),x=Object(i.a)(b,2),f=x[0],p=x[1],O=Object(d.useRef)(null),g=Object(d.useState)([]),y=Object(i.a)(g,2),k=(y[0],y[1]),w=Object(d.useState)([]),v=Object(i.a)(w,2),_=(v[0],v[1]),I=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t,a,c,i,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,m.a.get("autoparts/");case 4:return t=e.sent,a=t.data,e.next=8,m.a.get("/storages");case 8:c=e.sent,i=c.data,d=a.map((function(e){var t=i.find((function(t){return t.id===e.storage_id}));return Object(r.a)(Object(r.a)({},e),{},{storage:t})})),u(d),console.log(d),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,m.a.get("/options/brands");case 4:t=e.sent,k(t.data),console.log(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching brands:",e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,m.a.get("/options/models");case 4:t=e.sent,_(t.data),console.log(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching models:",e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){I(),S(),C()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:50},children:[Object(j.jsx)(h,{}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:20},children:[Object(j.jsx)(T.DownloadTableExcel,{currentTableRef:O.current,filename:"autoparts-table",sheet:"autoparts",children:Object(j.jsx)(o.a,{icon:Object(j.jsx)(s.a,{}),children:"Export Table Data"})}),Object(j.jsx)(o.a,{loading:f,icon:Object(j.jsx)(l.a,{}),children:"Columns Manager"}),Object(j.jsx)(U.default,{})]})]}),Object(j.jsx)(B,{data:a,fetchData:I,tableRef:O,loading:f})]})}}}]);
//# sourceMappingURL=29.fb091b13.chunk.js.map