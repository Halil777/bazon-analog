(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[26],{2414:function(t,e,n){"use strict";n.d(e,"a",(function(){return W})),n.d(e,"b",(function(){return L}));var o=n(0),a=n.n(o);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.parentElement}return!1}function u(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function h(t,e,n){return"https://"+String.fromCharCode(97+(t+e+n)%3)+".tile.openstreetmap.org/"+n+"/"+t+"/"+e+".png"}var c=300,m=1500,p=150,d=40,f=2,v=300,g=60,_=300,w=300,M=function(){return!0},x=function(t,e){return(t+180)/360*Math.pow(2,e)},T=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function S(t,e){return t/Math.pow(2,e)*360-180}function b(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function z(t,e){var n=u(t);return[e.clientX-n.x,e.clientY-n.y]}var E=[b(Math.pow(2,10),10),b(0,10),S(0,10),S(Math.pow(2,10),10)],D="undefined"!==typeof window,C=D&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),y=function(t){return D?(window.requestAnimationFrame||window.setTimeout)(t):(t((new Date).getTime()),null)},P=function(t){return!(!D||!t)&&(window.cancelAnimationFrame||window.clearTimeout)(t)};function Z(t,e,n,o,a){return t&&0!==t.length?t.map((function(t){return e(n,o,a,t)+(1===t?"":" "+t+"x")})).join(", "):""}var L=function(t){var e,n;function o(e){var n,o,a,r,i,s,u,h,D;return(D=t.call(this,e)||this)._dragStart=null,D._mouseDown=!1,D._moveEvents=[],D._lastClick=null,D._lastTap=null,D._lastWheel=null,D._touchStartPixel=null,D._touchStartMidPoint=null,D._touchStartDistance=null,D._secondTouchEnd=null,D._warningClearTimeout=null,D._isAnimating=!1,D._animationStart=null,D._animationEnd=null,D._zoomStart=null,D._centerTarget=null,D._zoomTarget=null,D._zoomAround=null,D._animFrame=null,D._boundsSynced=!1,D._minMaxCache=null,D._resizeObserver=null,D.updateWidthHeight=function(){if(D._containerRef){var t=D._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return D.setState({width:t.width,height:t.height}),!0}return!1},D.wa=function(){var t;return(t=window).addEventListener.apply(t,arguments)},D.wr=function(){var t;return(t=window).removeEventListener.apply(t,arguments)},D.bindMouseEvents=function(){D.wa("mousedown",D.handleMouseDown),D.wa("mouseup",D.handleMouseUp),D.wa("mousemove",D.handleMouseMove)},D.bindTouchEvents=function(){D.wa("touchstart",D.handleTouchStart,{passive:!1}),D.wa("touchmove",D.handleTouchMove,{passive:!1}),D.wa("touchend",D.handleTouchEnd,{passive:!1})},D.unbindMouseEvents=function(){D.wr("mousedown",D.handleMouseDown),D.wr("mouseup",D.handleMouseUp),D.wr("mousemove",D.handleMouseMove)},D.unbindTouchEvents=function(){D.wr("touchstart",D.handleTouchStart),D.wr("touchmove",D.handleTouchMove),D.wr("touchend",D.handleTouchEnd)},D.bindResizeEvent=function(){D.wa("resize",D.updateWidthHeight)},D.unbindResizeEvent=function(){D.wr("resize",D.updateWidthHeight)},D.bindWheelEvent=function(){D._containerRef&&D._containerRef.addEventListener("wheel",D.handleWheel,{passive:!1})},D.unbindWheelEvent=function(){D._containerRef&&D._containerRef.removeEventListener("wheel",D.handleWheel)},D.setCenterZoomTarget=function(t,e,n,o,a){if(void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=c),D.props.animate&&(!n||D.distanceInScreens(t,e,D.state.center,D.state.zoom)<=D.props.animateMaxScreens)){if(D._isAnimating){P(D._animFrame);var r=D.animationStep(C()),i=r.centerStep,s=r.zoomStep;D._centerStart=i,D._zoomStart=s}else D._isAnimating=!0,D._centerStart=D.limitCenterAtZoom([D._lastCenter[0],D._lastCenter[1]],D._lastZoom),D._zoomStart=D._lastZoom,D.onAnimationStart();D._animationStart=C(),D._animationEnd=D._animationStart+a,o?(D._zoomAround=o,D._centerTarget=D.calculateZoomCenter(D._lastCenter,o,D._lastZoom,e)):(D._zoomAround=null,D._centerTarget=t),D._zoomTarget=e,D._animFrame=y(D.animate)}else if(D.stopAnimating(),o){var l=D.calculateZoomCenter(D._lastCenter,o,D._lastZoom,e);D.setCenterZoom(l,e,n)}else D.setCenterZoom(t||D.state.center,e,n)},D.setCenterZoomForChildren=function(t,e){D.setCenterZoomTarget(t||D.state.center,e||D.state.zoom,!0)},D.distanceInScreens=function(t,e,n,o){var a=D.state,r=a.width,i=a.height,s=D.latLngToPixel(n,n,o),l=D.latLngToPixel(t,n,o),u=D.latLngToPixel(n,n,e),h=D.latLngToPixel(t,n,e),c=(Math.abs(s[0]-l[0])+Math.abs(u[0]-h[0]))/2/r,m=(Math.abs(s[1]-l[1])+Math.abs(u[1]-h[1]))/2/i;return Math.sqrt(c*c+m*m)},D.animationStep=function(t){if(!D._animationEnd||!D._animationStart||!D._zoomTarget||!D._zoomStart||!D._centerStart||!D._centerTarget)return{centerStep:D.state.center,zoomStep:D.state.zoom};var e,n=D._animationEnd-D._animationStart,o=Math.max(t-D._animationStart,0),a=(e=o/n)*(2-e),r=(D._zoomTarget-D._zoomStart)*a,i=D._zoomStart+r;return D._zoomAround?{centerStep:D.calculateZoomCenter(D._centerStart,D._zoomAround,D._zoomStart,i),zoomStep:i}:{centerStep:[D._centerStart[0]+(D._centerTarget[0]-D._centerStart[0])*a,D._centerStart[1]+(D._centerTarget[1]-D._centerStart[1])*a],zoomStep:i}},D.animate=function(t){if(!D._animationEnd||t>=D._animationEnd)D._isAnimating=!1,D.setCenterZoom(D._centerTarget,D._zoomTarget,!0),D.onAnimationStop();else{var e=D.animationStep(t),n=e.centerStep,o=e.zoomStep;D.setCenterZoom(n,o),D._animFrame=y(D.animate)}},D.stopAnimating=function(){D._isAnimating&&(D._isAnimating=!1,D.onAnimationStop(),P(D._animFrame))},D.limitCenterAtZoom=function(t,e){var n=D.getBoundsMinMax(e||D.state.zoom);return[Math.max(Math.min(!t||isNaN(t[0])?D.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(!t||isNaN(t[1])?D.state.center[1]:t[1],n[3]),n[2])]},D.onAnimationStart=function(){D.props.onAnimationStart&&D.props.onAnimationStart()},D.onAnimationStop=function(){D.props.onAnimationStop&&D.props.onAnimationStop()},D.setCenterZoom=function(t,e,n){void 0===n&&(n=!1);var o=D.limitCenterAtZoom(t,e);if(e&&Math.round(D.state.zoom)!==Math.round(e)){var a=D.tileValues(D.state),r=D.tileValues({center:o,zoom:e,width:D.state.width,height:D.state.height}),i=D.state.oldTiles;D.setState({oldTiles:i.filter((function(t){return t.roundedZoom!==a.roundedZoom})).concat(a)},M);for(var s={},l=r.tileMinX;l<=r.tileMaxX;l++)for(var u=r.tileMinY;u<=r.tileMaxY;u++){s[l+"-"+u+"-"+r.roundedZoom]=!1}D._loadTracker=s}D.setState({center:o,zoom:e||D.state.zoom},M);var h=D.props.zoom?D.props.zoom:D._lastZoom,c=D.props.center?D.props.center:D._lastCenter;e&&(n||Math.abs(h-e)>.001||Math.abs(c[0]-o[0])>1e-5||Math.abs(c[1]-o[1])>1e-5)&&(D._lastZoom=e,D._lastCenter=[].concat(o),D.syncToProps(o,e))},D.getBoundsMinMax=function(t){if("center"===D.props.limitBounds)return E;var e=D.state,n=e.width,o=e.height;if(D._minMaxCache&&D._minMaxCache[0]===t&&D._minMaxCache[1]===n&&D._minMaxCache[2]===o)return D._minMaxCache[3];var a=256*Math.pow(2,t),r=n>a?0:S(n/512,t),i=o>a?0:b(Math.pow(2,t)-o/512,t),s=n>a?0:S(Math.pow(2,t)-n/512,t),l=[i,o>a?0:b(o/512,t),r,s];return D._minMaxCache=[t,n,o,l],l},D.imageLoaded=function(t){D._loadTracker&&t in D._loadTracker&&(D._loadTracker[t]=!0,0===Object.values(D._loadTracker).filter((function(t){return!t})).length&&D.setState({oldTiles:[]},M))},D.handleTouchStart=function(t){if(D._containerRef&&(!t.target||!l(t.target,"pigeon-drag-block")))if(1===t.touches.length){var e=t.touches[0],n=z(D._containerRef,e);if(D.coordsInside(n)&&(D._touchStartPixel=[n],!D.props.twoFingerDrag))if(D.stopAnimating(),D._lastTap&&C()-D._lastTap<v){t.preventDefault();var o=D.pixelToLatLng(D._touchStartPixel[0]);D.setCenterZoomTarget(null,Math.max(D.props.minZoom,Math.min(D.state.zoom+1,D.props.maxZoom)),!1,o)}else D._lastTap=C(),D.trackMoveEvents(n)}else if(2===t.touches.length&&D._touchStartPixel){t.preventDefault(),D.stopTrackingMoveEvents(),(D.state.pixelDelta||D.state.zoomDelta)&&D.sendDeltaChange();var a=z(D._containerRef,t.touches[0]),r=z(D._containerRef,t.touches[1]);D._touchStartPixel=[a,r],D._touchStartMidPoint=[(a[0]+r[0])/2,(a[1]+r[1])/2],D._touchStartDistance=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}},D.handleTouchMove=function(t){if(D._containerRef){if(1===t.touches.length&&D._touchStartPixel){var e=t.touches[0],n=z(D._containerRef,e);D.props.twoFingerDrag?D.coordsInside(n)&&D.showWarning("fingers"):(t.preventDefault(),D.trackMoveEvents(n),D.setState({pixelDelta:[n[0]-D._touchStartPixel[0][0],n[1]-D._touchStartPixel[0][1]]},M))}else if(2===t.touches.length&&D._touchStartPixel&&D._touchStartMidPoint&&D._touchStartDistance){var o=D.state,a=o.width,r=o.height,i=o.zoom;t.preventDefault();var s=z(D._containerRef,t.touches[0]),l=z(D._containerRef,t.touches[1]),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],h=[u[0]-D._touchStartMidPoint[0],u[1]-D._touchStartMidPoint[1]],c=Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2)),m=Math.max(D.props.minZoom,Math.min(D.props.maxZoom,i+Math.log2(c/D._touchStartDistance)))-i,p=Math.pow(2,m),d=[(a/2-u[0])*(p-1),(r/2-u[1])*(p-1)];D.setState({zoomDelta:m,pixelDelta:[d[0]+h[0]*p,d[1]+h[1]*p]},M)}}else D._touchStartPixel=null},D.handleTouchEnd=function(t){if(D._containerRef){if(D._touchStartPixel){var e=D.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,r=e.maxZoom,i=D.state.zoomDelta,s=D.sendDeltaChange(),l=s.center,u=s.zoom;if(0===t.touches.length)if(o)D.clearWarning();else{var h=D._touchStartPixel[0],c=z(D._containerRef,t.changedTouches[0]);(Math.abs(h[0]-c[0])>f||Math.abs(h[1]-c[1])>f)&&(!D._secondTouchEnd||C()-D._secondTouchEnd>_)&&(t.preventDefault(),D.throwAfterMoving(c,l,u)),D._touchStartPixel=null,D._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var m=z(D._containerRef,t.touches[0]);if(D._secondTouchEnd=C(),D._touchStartPixel=[m],D.trackMoveEvents(m),n){var p,d=D._touchStartMidPoint?D.pixelToLatLng(D._touchStartMidPoint):D.state.center;p=o&&Math.round(D.state.zoom)===Math.round(D.state.zoom+i)?Math.round(D.state.zoom):i>0?Math.ceil(D.state.zoom):Math.floor(D.state.zoom);var v=Math.max(a,Math.min(p,r));D.setCenterZoomTarget(d,v,!1,d)}}}}else D._touchStartPixel=null},D.handleMouseDown=function(t){if(D._containerRef){var e=z(D._containerRef,t);if(0===t.button&&(!t.target||!l(t.target,"pigeon-drag-block"))&&D.coordsInside(e))if(D.stopAnimating(),t.preventDefault(),D._lastClick&&C()-D._lastClick<v){if(!l(t.target,"pigeon-click-block")){var n=D.pixelToLatLng(D._mousePosition||e);D.setCenterZoomTarget(null,Math.max(D.props.minZoom,Math.min(D.state.zoom+1,D.props.maxZoom)),!1,n)}}else D._lastClick=C(),D._mouseDown=!0,D._dragStart=e,D.trackMoveEvents(e)}},D.handleMouseMove=function(t){D._containerRef&&(D._mousePosition=z(D._containerRef,t),D._mouseDown&&D._dragStart&&(D.trackMoveEvents(D._mousePosition),D.setState({pixelDelta:[D._mousePosition[0]-D._dragStart[0],D._mousePosition[1]-D._dragStart[1]]},M)))},D.handleMouseUp=function(t){if(D._containerRef){var e=D.state.pixelDelta;if(D._mouseDown){D._mouseDown=!1;var n=z(D._containerRef,t);if(!D.props.onClick||t.target&&l(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=f)){var o=D.sendDeltaChange(),a=o.center,r=o.zoom;D.throwAfterMoving(n,a,r)}else{var i=D.pixelToLatLng(n);D.props.onClick({event:t,latLng:i,pixel:n}),D.setState({pixelDelta:void 0},M)}}}else D._mouseDown=!1},D.stopTrackingMoveEvents=function(){D._moveEvents=[]},D.trackMoveEvents=function(t){var e=C();(0===D._moveEvents.length||e-D._moveEvents[D._moveEvents.length-1].timestamp>40)&&(D._moveEvents.push({timestamp:e,coords:t}),D._moveEvents.length>2&&D._moveEvents.shift())},D.throwAfterMoving=function(t,e,n){var o=D.state,a=o.width,r=o.height,i=D.props.animate,s=C(),l=D._moveEvents.shift();if(l&&i){var u=Math.max(s-l.timestamp,1),h=[(t[0]-l.coords[0])/u*120,(t[1]-l.coords[1])/u*120],c=Math.sqrt(h[0]*h[0]+h[1]*h[1]);if(c>d){var p=Math.sqrt(a*a+r*r),f=m*c/p,v=S(x(e[1],n)-h[0]/256,n),g=b(T(e[0],n)-h[1]/256,n);D.setCenterZoomTarget([g,v],n,!1,null,f)}}D.stopTrackingMoveEvents()},D.sendDeltaChange=function(){var t=D.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=e[0],i=e[1];return(o||0!==a)&&(i=S(x(e[1],n+a)-(o?o[0]/256:0),n+a),r=b(T(e[0],n+a)-(o?o[1]/256:0),n+a),D.setCenterZoom([r,i],n+a)),D.setState({pixelDelta:void 0,zoomDelta:0},M),{center:D.limitCenterAtZoom([r,i],n+a),zoom:n+a}},D.getBounds=function(t,e){void 0===t&&(t=D.state.center),void 0===e&&(e=D.zoomPlusDelta());var n=D.state,o=n.width,a=n.height;return{ne:D.pixelToLatLng([o-1,0],t,e),sw:D.pixelToLatLng([0,a-1],t,e)}},D.syncToProps=function(t,e){void 0===t&&(t=D.state.center),void 0===e&&(e=D.state.zoom);var n=D.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:D.getBounds(t,e),initial:!D._boundsSynced}),D._boundsSynced=!0)},D.handleWheel=function(t){var e=D.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey||t.ctrlKey){t.preventDefault();var i=-t.deltaY/p;if(!a&&D._zoomTarget){var s=D._zoomTarget-D.state.zoom;D.zoomAroundMouse(i+s,t)}else r?D.zoomAroundMouse(i,t):(!D._lastWheel||C()-D._lastWheel>c)&&(D._lastWheel=C(),D.zoomAroundMouse(i,t))}else D.showWarning("wheel")},D.showWarning=function(t){D.state.showWarning&&D.state.warningType===t||D.setState({showWarning:!0,warningType:t}),D._warningClearTimeout&&window.clearTimeout(D._warningClearTimeout),D._warningClearTimeout=window.setTimeout(D.clearWarning,w)},D.clearWarning=function(){D.state.showWarning&&D.setState({showWarning:!1})},D.zoomAroundMouse=function(t,e){if(D._containerRef){var n=D.state.zoom,o=D.props,a=o.minZoom,r=o.maxZoom,i=o.zoomSnap;if(D._mousePosition=z(D._containerRef,e),!(!D._mousePosition||n===a&&t<0||n===r&&t>0)){var s=D.pixelToLatLng(D._mousePosition),l=n+t;i&&(l=t<0?Math.floor(l):Math.ceil(l)),l=Math.max(a,Math.min(l,r)),D.setCenterZoomTarget(null,l,!1,s)}}},D.zoomPlusDelta=function(){return D.state.zoom+D.state.zoomDelta},D.pixelToLatLng=function(t,e,n){void 0===e&&(e=D.state.center),void 0===n&&(n=D.zoomPlusDelta());var o=D.state,a=o.width,r=o.height,i=o.pixelDelta,s=[(t[0]-a/2-(i?i[0]:0))/256,(t[1]-r/2-(i?i[1]:0))/256],l=x(e[1],n)+s[0],u=T(e[0],n)+s[1];return[Math.max(E[0],Math.min(E[1],b(u,n))),Math.max(E[2],Math.min(E[3],S(l,n)))]},D.latLngToPixel=function(t,e,n){void 0===e&&(e=D.state.center),void 0===n&&(n=D.zoomPlusDelta());var o=D.state,a=o.width,r=o.height,i=o.pixelDelta,s=x(e[1],n),l=T(e[0],n),u=x(t[1],n),h=T(t[0],n);return[256*(u-s)+a/2+(i?i[0]:0),256*(h-l)+r/2+(i?i[1]:0)]},D.calculateZoomCenter=function(t,e,n,o){var a=D.state,r=a.width,i=a.height,s=D.latLngToPixel(e,t,n),l=D.latLngToPixel(e,t,o),u=D.pixelToLatLng([r/2+l[0]-s[0],i/2+l[1]-s[1]],t,o);return D.limitCenterAtZoom(u,o)},D.setRef=function(t){D._containerRef=t},D.syncToProps=function(t,e){var n;return function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=this;clearTimeout(n),n=setTimeout((function(){return t.apply(i,a)}),e)}}(D.syncToProps,g),D._lastZoom=null!==(n=null!==(o=e.defaultZoom)&&void 0!==o?o:e.zoom)&&void 0!==n?n:14,D._lastCenter=null!==(a=null!==(r=e.defaultCenter)&&void 0!==r?r:e.center)&&void 0!==a?a:[0,0],D.state={zoom:D._lastZoom,center:D._lastCenter,width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.defaultWidth)&&void 0!==i?i:-1,height:null!==(u=null!==(h=e.height)&&void 0!==h?h:e.defaultHeight)&&void 0!==u?u:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},D}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var t=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||y(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),"undefined"!==typeof window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver((function(){t.updateWidthHeight()})),this._resizeObserver.observe(this._containerRef))},r.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},r.componentDidUpdate=function(t){var e;if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null===t||void 0===t||null===(e=t.center)||void 0===e?void 0:e[0])||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var n=this._isAnimating?this._centerTarget:this.state.center,o=this._isAnimating?this._zoomTarget:this.state.zoom;if(n&&o){var a,r,i=null!==(a=this.props.center)&&void 0!==a?a:n,s=null!==(r=this.props.zoom)&&void 0!==r?r:o;(Math.abs(s-o)>.001||Math.abs(i[0]-n[0])>1e-4||Math.abs(i[1]-n[1])>1e-4)&&this.setCenterZoomTarget(i,s,!0)}}},r.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef;if(a){var r=u(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)}return!1},r.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),l=n+(a||0)-s,u=Math.pow(2,l),h=r/u,c=i/u,m=x(e[1],s)-(o?o[0]/256/u:0),p=T(e[0],s)-(o?o[1]/256/u:0),d=h/2/256,f=c/2/256;return{tileMinX:Math.floor(m-d),tileMaxX:Math.floor(m+d),tileMinY:Math.floor(p-f),tileMaxY:Math.floor(p+f),tileCenterX:m,tileCenterY:p,roundedZoom:s,zoomDelta:a||0,scaleWidth:h,scaleHeight:c,scale:u}},r.renderTiles=function(){for(var t=this,e=this.state,n=e.oldTiles,o=e.width,r=e.height,i=this.props.dprs,s=this.props.provider||h,l=this.tileValues(this.state),u=l.tileMinX,c=l.tileMaxX,m=l.tileMinY,p=l.tileMaxY,d=l.tileCenterX,f=l.tileCenterY,v=l.roundedZoom,g=l.scaleWidth,_=l.scaleHeight,w=l.scale,M=[],x=0;x<n.length;x++){var T=n[x],S=T.roundedZoom-v;if(!(Math.abs(S)>4||0===S))for(var b=1/Math.pow(2,S),z=256*-(u-T.tileMinX*b),E=256*-(m-T.tileMinY*b),D=Math.max(T.tileMinX,0),C=Math.max(T.tileMinY,0),y=Math.min(T.tileMaxX,Math.pow(2,T.roundedZoom)-1),P=Math.min(T.tileMaxY,Math.pow(2,T.roundedZoom)-1),L=D;L<=y;L++)for(var A=C;A<=P;A++)M.push({key:L+"-"+A+"-"+T.roundedZoom,url:s(L,A,T.roundedZoom),srcSet:Z(i,s,L,A,T.roundedZoom),left:z+256*(L-T.tileMinX)*b,top:E+256*(A-T.tileMinY)*b,width:256*b,height:256*b,active:!1})}for(var W=Math.max(u,0),k=Math.max(m,0),R=Math.min(c,Math.pow(2,v)-1),O=Math.min(p,Math.pow(2,v)-1),Y=W;Y<=R;Y++)for(var X=k;X<=O;X++)M.push({key:Y+"-"+X+"-"+v,url:s(Y,X,v),srcSet:Z(i,s,Y,X,v),left:256*(Y-u),top:256*(X-m),width:256,height:256,active:!0});var j={width:g,height:_,position:"absolute",top:"calc((100% - "+r+"px) / 2)",left:"calc((100% - "+o+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+w+", "+w+")",transformOrigin:"top left"},F=this.props.boxClassname||"pigeon-tiles-box",I={position:"absolute",width:256*(c-u+1),height:256*(p-m+1),willChange:"transform",transform:"translate("+-(256*(d-u)-g/2)+"px, "+-(256*(f-m)-_/2)+"px)"};return a.a.createElement("div",{style:j,className:F},a.a.createElement("div",{className:"pigeon-tiles",style:I},M.map((function(e){return a.a.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:"lazy",onLoad:function(){return t.imageLoaded(e.key)},alt:"",style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transformOrigin:"top left",opacity:1}})}))))},r.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,r=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:r,width:n,height:o},s=a.a.Children.map(this.props.children,(function(e){if(!e)return null;if(!a.a.isValidElement(e))return e;var n=e.props,o=n.anchor,s=n.position,l=n.offset,u=t.latLngToPixel(o||s||r);return a.a.cloneElement(e,{left:u[0]-(l?l[0]:0),top:u[1]-(l?l[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,setCenterZoom:t.setCenterZoomForChildren,mapProps:t.props,mapState:i})})),l={position:"absolute",width:n,height:o,top:"calc((100% - "+o+"px) / 2)",left:"calc((100% - "+n+"px) / 2)"};return a.a.createElement("div",{className:"pigeon-overlays",style:l},s)},r.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:"#0078A8",textDecoration:"none"};return a.a.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===n?null:a.a.createElement("span",null,n||a.a.createElement("a",{href:"https://pigeon-maps.js.org/",style:o,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),e||a.a.createElement("span",null," \xa9 ",a.a.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:o,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},r.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,r=t.twoFingerDragWarning,i=t.warningZIndex,s=this.state,l=s.showWarning,u=s.warningType,h=s.width,c=s.height;if(e&&n||o&&r){var m={position:"absolute",top:0,left:0,width:h,height:c,overflow:"hidden",pointerEvents:"none",opacity:l?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:i},p="undefined"!==typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"\u2318":"ctrl",d="fingers"===u?r:n;return a.a.createElement("div",{className:"pigeon-overlay-warning",style:m},d.replace("META",p))}return null},r.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,r=o.width,i=o.height,s={width:this.props.width?r:"100%",height:this.props.height?i:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:e?n?"pan-x pan-y":"none":"auto"},l=!(!r||!i);return a.a.createElement("div",{style:s,ref:this.setRef},l&&this.renderTiles(),l&&this.renderOverlays(),l&&this.renderAttribution(),l&&this.renderWarning())},o}(o.Component);L.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]};var A={isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0};function W(t){var e=Object(o.useRef)(),n=Object(o.useRef)(t),r=Object(o.useRef)(s({},A)),i=Object(o.useState)(A),l=i[0],u=i[1];n.current=t;var h=function(t){var e=s(s({},r.current),t);r.current=e,u(e)},c=t.mapProps,m=c.mouseEvents,p=c.touchEvents;Object(o.useEffect)((function(){var t=function(t){if(function(t,e){for(;t;){if(t===e)return!0;t=t.parentElement}return!1}(t.target,e.current)&&(t.preventDefault(),h({isDragging:!0,startX:("touches"in t?t.touches[0]:t).clientX,startY:("touches"in t?t.touches[0]:t).clientY,startLeft:n.current.left,startTop:n.current.top,deltaX:0,deltaY:0}),n.current.onDragStart)){var o=n.current,a=o.left,r=o.top,i=o.offset,s=o.pixelToLatLng;n.current.onDragMove(s([a+(i?i[0]:0),r+(i?i[1]:0)]))}},o=function(t){if(r.current.isDragging){t.preventDefault();var e=("touches"in t?t.touches[0]:t).clientX,o=("touches"in t?t.touches[0]:t).clientY,a=e-r.current.startX,i=o-r.current.startY;if(h({deltaX:a,deltaY:i}),n.current.onDragMove){var s=n.current,l=s.offset,u=s.pixelToLatLng,c=r.current,m=c.startLeft,p=c.startTop;n.current.onDragMove(u([m+a+(l?l[0]:0),p+i+(l?l[1]:0)]))}}},a=function(t){var e,o;if(r.current.isDragging){t.preventDefault();var a=n.current,i=a.offset,s=a.pixelToLatLng,l=r.current,u=l.deltaX,c=l.deltaY,m=l.startLeft,p=l.startTop;null===(e=(o=n.current).onDragEnd)||void 0===e||e.call(o,s([m+u+(i?i[0]:0),p+c+(i?i[1]:0)])),h({isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0})}},i=function(t,e,n){return window.addEventListener(t,e,n)},s=function(t,e){return window.removeEventListener(t,e)};return m&&(i("mousedown",t),i("mousemove",o),i("mouseup",a)),p&&(i("touchstart",t,{passive:!1}),i("touchmove",o,{passive:!1}),i("touchend",a,{passive:!1})),function(){m&&(s("mousedown",t),s("mousemove",o),s("mouseup",a)),p&&(s("touchstart",t),s("touchmove",o),s("touchend",a))}}),[m,p]);var d=t.left,f=t.top,v=t.className,g=t.style,_=l.deltaX,w=l.deltaY,M=l.startLeft,x=l.startTop,T=l.isDragging;return a.a.createElement("div",{style:s(s({cursor:T?"grabbing":"grab"},g||{}),{},{position:"absolute",transform:"translate("+(T?M+_:d)+"px, "+(T?x+w:f)+"px)"}),ref:e,className:"pigeon-drag-block"+(v?" "+v:"")},t.children)}},2415:function(t,e,n){"use strict";function o(t,e,n,o){return void 0===o&&(o=1),"https://stamen-tiles.a.ssl.fastly.net/terrain/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".jpg"}n.d(e,"a",(function(){return o}))}}]);
//# sourceMappingURL=26.92bacf09.chunk.js.map