(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[14],{2249:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var i=t(7),r=t(10),a=t(16),c=(t(0),t(59)),s=t(2253),o=t(293),l=t(294),d=t(295),u=t(2),j=["form","isFieldsChanged","setFieldsChanged","footer","loading","children"],b=function(e){var n=e.form,t=e.isFieldsChanged,o=e.setFieldsChanged,l=e.footer,d=e.loading,b=void 0!==d&&d,O=e.children,m=Object(a.a)(e,j),f=c.a.useForm(),v=Object(r.a)(f,1)[0],h=n||v;return Object(u.jsxs)(c.a,Object(i.a)(Object(i.a)({form:h},m),{},{children:[O,t&&(l||Object(u.jsx)(s.a,{loading:b,onCancel:function(){null===h||void 0===h||h.resetFields(),o&&o(!1)}}))]}))};b.Title=o.a,b.Item=l.a,b.List=d.a,b.useForm=c.a.useForm,b.Provider=c.a.Provider},2253:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t(7),r=t(16),a=(t(0),t(41)),c=t(2200),s=t(27),o=t(18),l=t(2),d=["className","onCancel","loading"],u=function(e){var n=e.className,t=e.onCancel,u=e.loading,j=Object(r.a)(e,d),b=Object(c.a)().t;return Object(l.jsxs)(s.a,{className:n,gutter:[10,10],wrap:!1,children:[Object(l.jsx)(o.a,{span:12,children:Object(l.jsx)(a.a,Object(i.a)(Object(i.a)({block:!0,type:"ghost",onClick:t},j),{},{children:b("common.cancel")}))}),Object(l.jsx)(o.a,{span:12,children:Object(l.jsx)(a.a,Object(i.a)(Object(i.a)({block:!0,type:"primary",loading:u,htmlType:"submit"},j),{},{children:b("common.save")}))})]})}},2272:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/),r=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?/gi},2310:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t(7),r=t(16),a=(t(0),t(2200)),c=t(165),s=t(2249),o=t(2),l=["required","onClick","verified"],d=function(e){var n=e.required,t=e.onClick,d=e.verified,u=Object(r.a)(e,l),j=Object(a.a)().t;return Object(o.jsx)(s.a.Item,Object(i.a)(Object(i.a)({name:"email",$isSuccess:d,$successText:j("profile.nav.personalInfo.verified"),label:j("common.email"),rules:[{required:n,message:j("common.requiredField")},{type:"email",message:j("common.notValidEmail")}]},u),{},{children:Object(o.jsx)(c.a,{disabled:d,onClick:t})}))}},2323:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));t(0);var i,r=t(2200),a=t(2347),c=t(2249),s=t(12),o=t(11),l=t(2350),d=t(13),u=Object(d.c)(l.a)(i||(i=Object(s.a)(["\n  height: 50px;\n  width: 100%;\n  padding: 8px 11px;\n  transition: all 0.3s;\n\n  color: var(--text-main-color);\n\n  border: 1px solid var(--border-color);\n\n  border-radius: ",";\n\n  &:hover {\n    border-color: #1d72b8;\n  }\n\n  &:focus {\n    outline: 0;\n    box-shadow: 0 0 0 2px rgb(0 89 171 / 20%);\n  }\n"])),o.b),j=t(2),b=function(e){var n=e.required,t=e.onClick,i=e.verified,s=Object(r.a)().t;return Object(j.jsx)(c.a.Item,{name:"phone",$isSuccess:i,$successText:s("profile.nav.personalInfo.verified"),label:s("common.phone"),rules:[{required:n,message:s("common.requiredField")},function(){return{validator:function(e,n){return!n||Object(a.a)(n)?Promise.resolve():Promise.reject(new Error(s("profile.nav.personalInfo.wrongNumber")))}}}],children:Object(j.jsx)(u,{disabled:i,className:"ant-input",onClick:t})})}},2460:function(e,n,t){"use strict";t.r(n);var i,r,a,c=t(0),s=t(2200),o=t(86),l=t(10),d=t(2249),u=t(298),j=t(2),b=function(){var e=Object(s.a)().t;return Object(j.jsx)(d.a.Item,{name:"confirmPassword",label:e("profile.nav.securitySettings.confirmPassword"),dependencies:["newPassword"],rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")},function(n){var t=n.getFieldValue;return{validator:function(n,i){return i&&t("newPassword")!==i?Promise.reject(new Error(e("profile.nav.securitySettings.dontMatchPassword"))):Promise.resolve()}}}],children:Object(j.jsx)(u.a,{})})},O=function(){var e=Object(s.a)().t;return Object(j.jsx)(d.a.Item,{name:"password",label:e("profile.nav.securitySettings.currentPassword"),rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")}],children:Object(j.jsx)(u.a,{})})},m=t(2272),f=function(){var e=Object(s.a)().t;return Object(j.jsx)(d.a.Item,{name:"newPassword",label:e("profile.nav.securitySettings.newPassword"),dependencies:["password"],rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")},{pattern:m.a,message:e("profile.nav.securitySettings.notValidPassword")},function(n){var t=n.getFieldValue;return{validator:function(n,i){return i&&t("password")===i?Promise.reject(new Error(e("profile.nav.securitySettings.samePassword"))):Promise.resolve()}}}],children:Object(j.jsx)(u.a,{})})},v=t(81),h=t(12),x=t(41),p=t(11),g=t(13),w=Object(g.c)(x.a)(i||(i=Object(h.a)(["\n  margin: 0.5rem 0 1.5rem 0;\n  width: 100%;\n\n  @media only screen and "," {\n    max-width: 10rem;\n  }\n\n  @media only screen and "," {\n    max-width: unset;\n  }\n"])),p.h.md,p.h.xl),y=t(27),C=t(18),P=function(){var e=Object(c.useState)(!1),n=Object(l.a)(e,2),t=n[0],i=n[1],r=Object(c.useState)(!1),a=Object(l.a)(r,2),o=a[0],u=a[1],m=Object(s.a)().t;return Object(j.jsx)(d.a,{name:"newPassword",requiredMark:"optional",isFieldsChanged:t,onFieldsChange:function(){return i(!0)},footer:Object(j.jsx)(w,{loading:o,type:"primary",htmlType:"submit",children:m("common.confirm")}),onFinish:function(e){u(!0),setTimeout((function(){u(!1),i(!1),v.a.success({message:m("common.success")}),console.log(e)}),1e3)},children:Object(j.jsxs)(y.a,{gutter:{md:15,xl:30},children:[Object(j.jsx)(C.a,{span:24,children:Object(j.jsx)(d.a.Item,{children:Object(j.jsx)(d.a.Title,{children:m("profile.nav.securitySettings.changePassword")})})}),Object(j.jsx)(C.a,{xs:24,md:12,xl:24,children:Object(j.jsx)(O,{})}),Object(j.jsx)(C.a,{xs:24,md:12,xl:24,children:Object(j.jsx)(f,{})}),Object(j.jsx)(C.a,{xs:24,md:12,xl:24,children:Object(j.jsx)(b,{})})]})})},F=t(8),S=t(7),k=t(469),q=t(470),A=t(142),E=t(2310),I=t(2323),T=t(34),$=Object(g.c)(A.a)(r||(r=Object(h.a)(["\n  margin-right: 0;\n  width: 100%;\n  transition: all 0.5s ease;\n\n  ",";\n\n  & > span:last-of-type {\n    flex-grow: 1;\n  }\n"])),(function(e){return!e.$isActive&&"opacity: 0.5"})),z=function(e){var n=e.selectedOption,t=e.setSelectedOption,i=Object(T.b)((function(e){return e.user.user})),r=Object(c.useMemo)((function(){return{isPhoneActive:"phone"===n,isEmailActive:"email"===n}}),[n]),a=r.isEmailActive,s=r.isPhoneActive,o=Object(c.useCallback)((function(e){return function(){t(e)}}),[t]);return Object(c.useEffect)((function(){null!==i&&void 0!==i&&i.email.verified&&null!==i&&void 0!==i&&i.phone.verified&&t(null)}),[t,null===i||void 0===i?void 0:i.email.verified,null===i||void 0===i?void 0:i.phone.verified]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(A.a.Group,{value:n,onChange:function(e){return t(e.target.value)},children:[Object(j.jsx)($,{value:"phone",$isActive:s,disabled:null===i||void 0===i?void 0:i.phone.verified,children:Object(j.jsx)(I.a,{required:s,onClick:o("phone"),verified:null===i||void 0===i?void 0:i.phone.verified})}),Object(j.jsx)($,{value:"email",$isActive:a,disabled:null===i||void 0===i?void 0:i.email.verified,children:Object(j.jsx)(E.a,{required:a,onClick:o("email"),verified:null===i||void 0===i?void 0:i.email.verified})})]})})},M=t(2224),N=function(e){var n=e.isEnabled,t=e.setEnabled,i=Object(s.a)().t;return Object(j.jsx)(d.a.Item,{children:Object(j.jsxs)(k.a,{gutter:[10,10],justify:"space-between",align:"middle",children:[Object(j.jsx)(q.a,{span:20,children:Object(j.jsx)(d.a.Title,{children:i("profile.nav.securitySettings.twoFactorAuth")})}),Object(j.jsx)(q.a,{span:4,children:Object(j.jsx)(k.a,{justify:"end",children:Object(j.jsx)(q.a,{children:Object(j.jsx)(d.a.Item,{name:"2fa",children:Object(j.jsx)(M.a,{checked:n,onChange:t})})})})})]})})},V=t(364),Z=t(196),B=t(143),J=Object(g.c)(B.a)(a||(a=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .ant-modal-body {\n    padding: 0;\n  }\n"]))),_=function(){var e=Object(T.b)((function(e){return e.user.user})),n=Object(c.useMemo)((function(){return(null===e||void 0===e?void 0:e.email.name)&&!(null!==e&&void 0!==e&&e.email.verified)||(null===e||void 0===e?void 0:e.phone.number)&&!(null!==e&&void 0!==e&&e.phone.verified)}),[e]),t=Object(c.useState)(Boolean(n)),i=Object(l.a)(t,2),r=i[0],a=i[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),b=u[0],O=u[1],m=Object(c.useState)(Boolean((null===e||void 0===e?void 0:e.email.verified)||(null===e||void 0===e?void 0:e.phone.verified))),f=Object(l.a)(m,2),h=f[0],p=f[1],g=Object(c.useState)("email"),w=Object(l.a)(g,2),y=w[0],C=w[1],P=Object(c.useState)(!1),A=Object(l.a)(P,2),E=A[0],I=A[1],$=Object(T.a)(),M=Object(s.a)().t,B=Object(c.useCallback)((function(){if(e&&y){O(!1),a(!1),I(!1),v.a.success({message:M("common.success")});var n=Object(S.a)(Object(S.a)({},e),{},Object(F.a)({},y,Object(S.a)(Object(S.a)({},e[y]),{},{verified:!0})));$(Object(Z.b)(n))}}),[$,y,M,e]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{name:"twoFactorAuth",requiredMark:"optional",isFieldsChanged:r,onFieldsChange:function(){return a(!0)},initialValues:{email:null===e||void 0===e?void 0:e.email.name,phone:null===e||void 0===e?void 0:e.phone.number},footer:h&&Object(j.jsx)(x.a,{type:"link",loading:b,htmlType:"submit",children:M("profile.nav.securitySettings.verify")})||Object(j.jsx)("span",{}),onFinish:function(){I(!0)},children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(q.a,{span:24,children:Object(j.jsx)(N,{isEnabled:h,setEnabled:p})}),h&&Object(j.jsx)(q.a,{span:24,children:Object(j.jsx)(z,{selectedOption:y,setSelectedOption:C})})]})}),Object(j.jsx)(J,{destroyOnClose:!0,open:E,footer:!1,closable:!1,onCancel:function(){return I(!1)},children:Object(j.jsx)(V.a,{onBack:function(){return I(!1)},onFinish:B})})]})},G=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(y.a,{gutter:[30,0],children:[Object(j.jsx)(C.a,{xs:24,xl:10,children:Object(j.jsx)(P,{})}),Object(j.jsx)(C.a,{xs:24,xl:14,children:Object(j.jsx)(_,{})})]})})},L=t(87);n.default=function(){var e=Object(s.a)().t;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L.a,{children:e("profile.nav.securitySettings.title")}),Object(j.jsx)(G,{})]})}}}]);
//# sourceMappingURL=14.11e4e4d3.chunk.js.map